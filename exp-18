#include <stdio.h>
#include <stdlib.h>

int main() {
    int n, head, disk_size, i, j, temp;
    
    printf("Enter number of disk requests: ");
    scanf("%d", &n);
    
    int requests[n + 2]; // extra space for head and end of disk
    printf("Enter disk request sequence:\n");
    for(i = 0; i < n; i++)
        scanf("%d", &requests[i]);
    
    printf("Enter initial head position: ");
    scanf("%d", &head);
    
    printf("Enter disk size: ");
    scanf("%d", &disk_size);
    
    // Add head and end of disk
    requests[n] = head;
    requests[n+1] = 0; // start of disk
    
    // Sort requests
    for(i = 0; i < n+2-1; i++)
        for(j = i+1; j < n+2; j++)
            if(requests[i] > requests[j]) {
                temp = requests[i];
                requests[i] = requests[j];
                requests[j] = temp;
            }
    
    // Find index of head
    int index;
    for(i = 0; i < n+2; i++)
        if(requests[i] == head)
            index = i;
    
    int total_movement = 0;
    printf("\nSequence of head movement:\n");
    
    // Move towards 0 first
    for(i = index; i >= 0; i--) {
        printf("%d ", requests[i]);
        if(i != index)
            total_movement += abs(requests[i] - requests[i+1]);
    }
    
    // Move towards end
    for(i = index + 1; i < n+2; i++) {
        printf("%d ", requests[i]);
        if(i != index+1)
            total_movement += abs(requests[i] - requests[i-1]);
    }
    
    printf("\nTotal head movement = %d\n", total_movement);
    
    return 0;
}
